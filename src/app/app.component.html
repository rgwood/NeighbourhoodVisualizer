<div class='container'>
  <div class='row'>
    <div class='col-xs-12 col-md-8'>
      <h1>Neighbourhood Visualizer</h1>
      <p>
        Blah blah blah blah. Lorem ipsum!
      </p>
      <div class="card border-primary mb-3">
        <div class="card-header">Results</div>
        <div class="card-body">
          <canvas class="center-block" id="setbackCanvas" width="1000" height="800"></canvas>
          <p [hidden]="!inputForm.valid ">
            The <span style="color:rgb(0, 82, 110);font-weight:bold">building footprint</span> can cover {{bldgArea | number:'1.0-0'}} {{inputForm.value.units}}
            <sup>2</sup> at most, on a {{inputForm.value.lotWidth * inputForm.value.lotDepth | number:'1.0-0'}} {{inputForm.value.units}}
            <sup>2</sup> lot. This works out to <strong>{{bldgArea / (inputForm.value.lotWidth * inputForm.value.lotDepth) | percent}}</strong>
            of the lot.
          </p>
        </div>
      </div>
      <form [formGroup]="inputForm" novalidate>
        <div class="card card-primary">
          <div class="card-header">Options</div>
          <div class="card-body">
              <div class="form-group">
                  <h5>Setback Requirements</h5>
                  <label for="frontYard">Front yard: at least <strong>{{ inputForm.value.frontYardPercent }}%</strong> of lot depth</label>
                  <input id="frontYard" type="range" min="0" max="100" class="slider form-control" formControlName="frontYardPercent">
                  <label for="sideYard">Side yard: at least <strong>{{ inputForm.value.sideYardPercent }}%</strong> of lot width</label>
                  <input id="sideYard" type="range" min="0" max="100" class="slider form-control" formControlName="sideYardPercent">
                  <label for="backYard">Back yard: at least <strong>{{ inputForm.value.backYardPercent }}%</strong> of lot depth</label>
                  <input id="backYard" type="range" min="0" max="100" class="slider form-control" formControlName="backYardPercent">
              </div>
            <div class="form-group">
              <h5>Lot Size</h5>
              <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" value='ft' formControlName="units" id="ftUnit">
                  <label class="form-check-label" for="ftUnit">Feet</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" value='m' formControlName="units" id="mUnit">
                  <label class="form-check-label" for="mUnit">Metres</label>
                </div>
                <div></div>
              <label>Width:
                <!-- The ngClass is-invalid thing is to map to a Bootstrap CSS class... there's gotta be a better way! -->
                <input [ngClass]="{'is-invalid': inputForm.controls['lotWidth'].invalid}" class="form-control" formControlName="lotWidth">
              </label>
              <label>Depth:
                <input [ngClass]="{'is-invalid': inputForm.controls['lotDepth'].invalid}" class="form-control" formControlName="lotDepth">
              </label>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- <h3>Debug info</h3>
<p>Width value: {{ inputForm.value.lotWidth | json }}</p>
<p>Height value: {{ inputForm.value.lotDepth | json }}</p>
<p>All values: {{ inputForm.value | json }}</p>
<p>Form status: {{ inputForm.status | json }}</p> -->